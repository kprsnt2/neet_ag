<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NEET Study Assistant - AI-Powered Exam Preparation</title>
  <meta name="description"
    content="AI-powered study assistant for NEET and Class 12 IPE exam preparation in Biology, Chemistry, and Physics.">

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div id="app">
    <!-- Header -->
    <header class="header">
      <!-- Mobile hamburger menu -->
      <button class="mobile-menu-btn" id="mobile-menu-btn" onclick="toggleMobileSidebar()">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <div class="header-logo">
        <div class="logo-icon">ğŸ“š</div>
        <h1 class="logo-text">NEET Study Assistant</h1>
      </div>

      <!-- Global Search -->
      <div class="global-search-container">
        <input type="text" class="global-search" id="global-search"
          placeholder="ğŸ” Search any topic (e.g., mitosis, electrochemistry, Newton's laws...)"
          oninput="handleGlobalSearch(this.value)">
        <div class="search-results-dropdown" id="search-results" style="display: none;"></div>
      </div>

      <!-- Mobile search button -->
      <button class="mobile-search-btn" id="mobile-search-btn" onclick="toggleMobileSearch()">ğŸ”</button>

      <nav class="header-nav">
        <button class="nav-btn active" data-view="study" onclick="switchView('study')">
          ğŸ  Study
        </button>
        <button class="nav-btn" data-view="practice" onclick="switchView('practice')">
          ğŸ“– Practice
        </button>
        <button class="nav-btn" data-view="formulas" onclick="switchView('formulas')">
          ğŸ“ Formulas
        </button>
        <button class="nav-btn" data-view="progress" onclick="switchView('progress')">
          ğŸ“Š Progress
        </button>
        <button class="nav-btn" data-view="saved" onclick="switchView('saved')">
          ğŸ”– Saved
        </button>
      </nav>
    </header>

    <!-- Mobile Sidebar Overlay -->
    <div class="mobile-sidebar-overlay" id="mobile-sidebar-overlay" onclick="closeMobileSidebar()"></div>

    <!-- Mobile Search Overlay -->
    <div class="mobile-search-overlay" id="mobile-search-overlay">
      <div class="mobile-search-container">
        <input type="text" class="mobile-search-input" id="mobile-search-input" placeholder="Search topics..."
          oninput="handleGlobalSearch(this.value)">
        <button class="mobile-search-close" onclick="toggleMobileSearch()">âœ•</button>
      </div>
      <div class="mobile-search-results" id="mobile-search-results"></div>
    </div>

    <!-- Bottom Navigation (Mobile) -->
    <nav class="bottom-nav" id="bottom-nav">
      <button class="bottom-nav-btn active" data-view="study" onclick="switchView('study')">
        <span class="bottom-nav-icon">ğŸ </span>
        <span class="bottom-nav-label">Study</span>
      </button>
      <button class="bottom-nav-btn" data-view="practice" onclick="switchView('practice')">
        <span class="bottom-nav-icon">ğŸ“–</span>
        <span class="bottom-nav-label">Practice</span>
      </button>
      <button class="bottom-nav-btn" data-view="formulas" onclick="switchView('formulas')">
        <span class="bottom-nav-icon">ğŸ“</span>
        <span class="bottom-nav-label">Formulas</span>
      </button>
      <button class="bottom-nav-btn" data-view="progress" onclick="switchView('progress')">
        <span class="bottom-nav-icon">ğŸ“Š</span>
        <span class="bottom-nav-label">Progress</span>
      </button>
      <button class="bottom-nav-btn" data-view="saved" onclick="switchView('saved')">
        <span class="bottom-nav-icon">ğŸ”–</span>
        <span class="bottom-nav-label">Saved</span>
      </button>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Sidebar -->
      <aside class="sidebar">
        <!-- Exam Countdown -->
        <div class="countdown-section">
          <div class="countdown-card ipe">
            <span class="countdown-label">IPE Exams</span>
            <span class="countdown-days" id="ipe-countdown">--</span>
            <span class="countdown-unit">days left</span>
          </div>
          <div class="countdown-card neet">
            <span class="countdown-label">NEET 2026</span>
            <span class="countdown-days" id="neet-countdown">--</span>
            <span class="countdown-unit">days left</span>
          </div>
        </div>

        <!-- Subject Selection -->
        <div class="sidebar-section">
          <h3 class="sidebar-title">Subjects</h3>
          <div class="subject-cards">
            <button class="subject-card biology" onclick="selectSubject('biology')">
              <div class="subject-icon biology">ğŸ§¬</div>
              <div class="subject-info">
                <h3>Biology</h3>
                <p id="bio-chapters">19 chapters</p>
                <div class="subject-progress">
                  <div class="progress-bar" id="bio-progress" style="width: 0%"></div>
                </div>
              </div>
            </button>
            <button class="subject-card chemistry" onclick="selectSubject('chemistry')">
              <div class="subject-icon chemistry">âš—ï¸</div>
              <div class="subject-info">
                <h3>Chemistry</h3>
                <p id="chem-chapters">9 chapters</p>
                <div class="subject-progress">
                  <div class="progress-bar" id="chem-progress" style="width: 0%"></div>
                </div>
              </div>
            </button>
            <button class="subject-card physics" onclick="selectSubject('physics')">
              <div class="subject-icon physics">âš›ï¸</div>
              <div class="subject-info">
                <h3>Physics</h3>
                <p id="phys-chapters">14 chapters</p>
                <div class="subject-progress">
                  <div class="progress-bar" id="phys-progress" style="width: 0%"></div>
                </div>
              </div>
            </button>
          </div>
        </div>

        <!-- Class Toggle -->
        <div class="sidebar-section">
          <h3 class="sidebar-title">Class</h3>
          <div class="class-toggle">
            <button class="class-btn" data-class="11" onclick="selectClass('11')">Class 11</button>
            <button class="class-btn active" data-class="12" onclick="selectClass('12')">Class 12</button>
          </div>
        </div>

        <!-- Chapter List -->
        <div class="sidebar-section" id="chapters-section" style="display: none;">
          <h3 class="sidebar-title">Chapters</h3>
          <input type="text" class="search-input" placeholder="Filter chapters..." oninput="filterChapters(this.value)">
          <div class="chapter-list" id="chapter-list"></div>
        </div>
      </aside>

      <!-- Content Area -->
      <div class="content-area" id="content-area">
        <!-- Welcome Screen (default) -->
        <div class="welcome-screen" id="welcome-screen">
          <div class="welcome-hero">
            <div class="welcome-icon-wrapper">
              <div class="welcome-icon">ğŸ“</div>
              <div class="icon-glow"></div>
            </div>
            <h2>Welcome to NEET Study Assistant</h2>
            <p>Your AI-powered companion for NEET & IPE exam preparation. Get instant explanations, practice MCQs, and
              master Biology, Chemistry, and Physics.</p>
          </div>

          <!-- Stats Cards -->
          <div class="stats-grid">
            <div class="stat-card">
              <span class="stat-icon">ğŸ“–</span>
              <span class="stat-value" id="total-chapters">96</span>
              <span class="stat-label">Total Chapters</span>
            </div>
            <div class="stat-card">
              <span class="stat-icon">âœ…</span>
              <span class="stat-value" id="completed-chapters">0</span>
              <span class="stat-label">Completed</span>
            </div>
            <div class="stat-card">
              <span class="stat-icon">ğŸ¯</span>
              <span class="stat-value" id="mcq-accuracy">0%</span>
              <span class="stat-label">MCQ Accuracy</span>
            </div>
            <div class="stat-card">
              <span class="stat-icon">ğŸ”¥</span>
              <span class="stat-value" id="study-streak">0</span>
              <span class="stat-label">Day Streak</span>
            </div>
          </div>

          <div class="quick-actions">
            <button class="quick-action biology-action" onclick="selectSubject('biology')">ğŸ§¬ Start Biology</button>
            <button class="quick-action chemistry-action" onclick="selectSubject('chemistry')">âš—ï¸ Start
              Chemistry</button>
            <button class="quick-action physics-action" onclick="selectSubject('physics')">âš›ï¸ Start Physics</button>
            <button class="quick-action" onclick="window.open('https://ncert.nic.in/textbook.php', '_blank')">ğŸ“š NCERT
              Books</button>
          </div>

          <!-- Recent Activity -->
          <div class="recent-activity" id="recent-activity"></div>
        </div>

        <!-- Chapter Content -->
        <div class="chapter-content" id="chapter-content" style="display: none;">
          <div class="chapter-header">
            <div class="chapter-header-top">
              <div class="chapter-badges">
                <span class="badge" id="chapter-badge">Chapter 1</span>
                <span class="badge subject-badge" id="subject-badge">Biology</span>
                <span class="badge" id="class-badge">Class 12</span>
              </div>
              <div class="chapter-actions">
                <button class="icon-btn" onclick="markChapterComplete()" title="Mark as Complete">
                  <span id="complete-icon">â˜</span>
                </button>
                <button class="icon-btn" onclick="shareChapter()" title="Share">ğŸ”—</button>
              </div>
            </div>
            <h2 id="chapter-title">Chapter Title</h2>
            <p id="chapter-book">Book Name</p>
          </div>

          <!-- AI Container -->
          <div class="ai-container">
            <div class="ai-header">
              <h3>âœ¨ AI Study Assistant</h3>
              <div class="ai-actions">
                <button class="ai-action-btn" onclick="aiAction('explain')" title="Detailed explanation">
                  ğŸ’¡ Explain
                </button>
                <button class="ai-action-btn" onclick="aiAction('eli5')" title="Simple explanation">
                  ğŸ§’ Simple
                </button>
                <button class="ai-action-btn" onclick="aiAction('keypoints')" title="NEET key points">
                  ğŸ¯ Key Points
                </button>
                <button class="ai-action-btn" onclick="aiAction('mcq')" title="Practice MCQs">
                  ğŸ“ MCQs
                </button>
                <button class="ai-action-btn" onclick="aiAction('visual')" title="Visual diagram">
                  ğŸ“Š Diagram
                </button>
                <button class="ai-action-btn" onclick="aiAction('ncert')" title="NCERT reference">
                  ğŸ“„ NCERT
                </button>
              </div>
            </div>
            <div class="ai-content" id="ai-content">
              <div class="ai-placeholder">
                <span>âœ¨</span>
                <p>Click an action button above to get AI-powered explanations!</p>
                <p class="small">Or type your specific question below.</p>
              </div>
            </div>

            <!-- Quick Follow-up Buttons -->
            <div class="follow-up-container" id="follow-up-container" style="display: none;">
              <span class="follow-up-label">Quick follow-ups:</span>
              <button class="follow-up-btn" onclick="followUp('example')">ğŸ“Œ Give Example</button>
              <button class="follow-up-btn" onclick="followUp('simpler')">ğŸ”„ Explain Simpler</button>
              <button class="follow-up-btn" onclick="followUp('compare')">âš–ï¸ Compare</button>
              <button class="follow-up-btn" onclick="followUp('telugu')">ğŸŒ In Telugu</button>
              <button class="follow-up-btn" onclick="followUp('mnemonics')">ğŸ§  Mnemonics</button>
            </div>

            <div class="ai-input-container">
              <input type="text" class="ai-input" id="ai-input" placeholder="Ask anything about this topic...">
              <button class="ai-send-btn" onclick="sendCustomQuery()">ğŸ“¤ Ask</button>
            </div>
          </div>

          <!-- NCERT Reference Card -->
          <div class="ncert-card">
            <h4>ğŸ“– NCERT Reference</h4>
            <p id="ncert-book-ref">Book name - Chapter X</p>
            <a href="#" id="ncert-pdf-link" target="_blank" class="ncert-link">
              ğŸ“¥ Download PDF from NCERT
            </a>
          </div>
        </div>

        <!-- Formulas View -->
        <div class="formulas-content" id="formulas-view" style="display: none;">
          <div class="formulas-header">
            <h2>ğŸ“ Quick Reference - Formulas & Reactions</h2>
            <p>Essential formulas for quick revision before exams</p>
            <div class="formula-tabs">
              <button class="formula-tab active" onclick="showFormulaSubject('physics')">âš›ï¸ Physics</button>
              <button class="formula-tab" onclick="showFormulaSubject('chemistry')">âš—ï¸ Chemistry</button>
              <button class="formula-tab" onclick="showFormulaSubject('biology')">ğŸ§¬ Biology</button>
            </div>
          </div>
          <div class="formula-search">
            <input type="text" placeholder="Search formulas..." oninput="searchFormulas(this.value)">
          </div>
          <div class="formula-list" id="formula-list"></div>
        </div>

        <!-- Practice View -->
        <div class="practice-content" id="practice-view" style="display: none;">
          <div class="practice-header">
            <h2>ğŸ“– Statement-Based Practice</h2>
            <p>Master NEET-style statement and assertion-reason questions</p>
          </div>

          <div class="practice-selectors">
            <div class="selector-group">
              <label for="practice-subject">Subject</label>
              <select id="practice-subject" onchange="updatePracticeChapters()">
                <option value="">Select Subject</option>
                <option value="biology">ğŸ§¬ Biology</option>
                <option value="chemistry">âš—ï¸ Chemistry</option>
                <option value="physics">âš›ï¸ Physics</option>
              </select>
            </div>
            <div class="selector-group">
              <label for="practice-class">Class</label>
              <select id="practice-class" onchange="updatePracticeChapters()">
                <option value="11">Class 11</option>
                <option value="12" selected>Class 12</option>
              </select>
            </div>
            <div class="selector-group">
              <label for="practice-chapter">Chapter</label>
              <select id="practice-chapter" onchange="updatePracticeSubtopics()">
                <option value="">Select Chapter</option>
              </select>
            </div>
            <div class="selector-group">
              <label for="practice-subtopic">Subtopic</label>
              <select id="practice-subtopic">
                <option value="">All Subtopics</option>
              </select>
            </div>
          </div>

          <div class="practice-actions">
            <button class="generate-btn" onclick="generateStatementQuestions()">
              ğŸ¯ Generate Questions
            </button>
            <div class="question-type-toggle">
              <button class="type-btn active" data-type="statement" onclick="setQuestionType('statement')">
                ğŸ“‹ Statements
              </button>
              <button class="type-btn" data-type="assertion" onclick="setQuestionType('assertion')">
                âš–ï¸ Assertion-Reason
              </button>
            </div>
          </div>

          <div class="practice-questions" id="practice-questions">
            <div class="practice-placeholder">
              <span>ğŸ“–</span>
              <p>Select a subject and topic, then click "Generate Questions"</p>
              <p class="small">Practice with NEET-style statement-based questions</p>
            </div>
          </div>

          <div class="practice-context" id="practice-context" style="display: none;">
            <h4>ğŸ“š NCERT Reference</h4>
            <div class="context-content" id="context-content"></div>
          </div>
        </div>

        <!-- Progress View -->
        <div class="progress-content" id="progress-view" style="display: none;">
          <h2>ğŸ“Š Your Progress Dashboard</h2>
          <div class="progress-overview">
            <div class="progress-ring-container">
              <svg class="progress-ring" viewBox="0 0 120 120">
                <circle class="progress-ring-bg" cx="60" cy="60" r="54" />
                <circle class="progress-ring-fill" cx="60" cy="60" r="54" id="overall-progress-ring" />
              </svg>
              <div class="progress-ring-text">
                <span class="progress-percentage" id="overall-percentage">0%</span>
                <span class="progress-label">Overall</span>
              </div>
            </div>
            <div class="progress-stats">
              <div class="progress-stat-item">
                <span class="progress-stat-value" id="bio-complete">0/35</span>
                <span class="progress-stat-label">ğŸ§¬ Biology</span>
              </div>
              <div class="progress-stat-item">
                <span class="progress-stat-value" id="chem-complete">0/19</span>
                <span class="progress-stat-label">âš—ï¸ Chemistry</span>
              </div>
              <div class="progress-stat-item">
                <span class="progress-stat-value" id="phys-complete">0/28</span>
                <span class="progress-stat-label">âš›ï¸ Physics</span>
              </div>
            </div>
          </div>

          <div class="mcq-performance">
            <h3>ğŸ“ MCQ Performance</h3>
            <div class="mcq-stats-grid">
              <div class="mcq-stat">
                <span class="mcq-stat-value" id="total-mcqs-attempted">0</span>
                <span class="mcq-stat-label">Attempted</span>
              </div>
              <div class="mcq-stat correct">
                <span class="mcq-stat-value" id="correct-mcqs">0</span>
                <span class="mcq-stat-label">Correct</span>
              </div>
              <div class="mcq-stat incorrect">
                <span class="mcq-stat-value" id="incorrect-mcqs">0</span>
                <span class="mcq-stat-label">Incorrect</span>
              </div>
            </div>
          </div>

          <div class="weak-topics">
            <h3>âš ï¸ Topics to Revise</h3>
            <div id="weak-topics-list" class="weak-topics-list">
              <p class="empty-state-small">Complete some MCQs to see weak topics</p>
            </div>
          </div>
        </div>

        <!-- Saved Content View -->
        <div class="saved-content" id="saved-view" style="display: none;">
          <h2>ğŸ”– Saved Content</h2>
          <p>Your saved explanations are stored locally and work offline.</p>
          <div id="saved-list" class="saved-list"></div>
        </div>
      </div>
    </main>

    <!-- MCQ Modal -->
    <div class="modal-overlay" id="mcq-modal" style="display: none;">
      <div class="modal mcq-modal">
        <div class="modal-header">
          <h2>ğŸ“ Practice MCQs</h2>
          <div class="mcq-difficulty">
            <button class="difficulty-btn active" onclick="setDifficulty('easy')">Easy</button>
            <button class="difficulty-btn" onclick="setDifficulty('medium')">Medium</button>
            <button class="difficulty-btn" onclick="setDifficulty('neet')">NEET Level</button>
          </div>
          <button class="modal-close" onclick="closeMCQModal()">âœ•</button>
        </div>
        <div class="modal-body" id="mcq-content"></div>
      </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>
  </div>

  <script src="data.js"></script>
  <script src="formulas.js"></script>
  <script src="app_v2.js"></script>
</body>

</html>